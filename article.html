<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 
      ======================================================================
      GAME-CHANGING SEO (DYNAMICALLY POPULATED)
      ======================================================================
    -->
    <title>Loading Article... | The Daily Origin</title>
    <meta
      id="meta-description"
      name="description"
      content="Loading content..."
    />
    <link
      id="canonical-link"
      rel="canonical"
      href="https://www.thedailyorigin.com/home"
    />
    <link
      rel="shortcut icon"
      href="the_daily_origin_favicon.png"
      type="image/x-icon"
    />

    <!-- Open Graph -->
    <meta property="og:site_name" content="The Daily Origin" />
    <meta property="og:type" content="article" />
    <meta id="og-url" property="og:url" content="" />
    <meta id="og-title" property="og:title" content="" />
    <meta id="og-description" property="og:description" content="" />
    <meta id="og-image" property="og:image" content="" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta id="twitter-title" name="twitter:title" content="" />
    <meta id="twitter-description" name="twitter:description" content="" />
    <meta id="twitter-image" name="twitter:image" content="" />

    <!-- JSON-LD Schema -->
    <script type="application/ld+json" id="dynamic-schema-json"></script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                black: "#111111",
                red: "#C90000",
                gray: "#F3F4F6",
              },
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              serif: ["Merriweather", "serif"],
              display: ["Playfair Display", "serif"],
            },
            animation: {
              "fade-in-up": "fadeInUp 0.8s ease-out forwards",
            },
            keyframes: {
              fadeInUp: {
                "0%": { opacity: "0", transform: "translateY(20px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
          },
        },
      };
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,900;1,400&display=swap"
      rel="stylesheet"
    />

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Professional Styles -->
    <style>
      /* FORCE NO BORDER RADIUS */
      /* * {
        border-radius: 0 !important;
      } */

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #fff;
      }
      ::-webkit-scrollbar-thumb {
        background: #e5e7eb;
        border-radius: 0;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #d1d5db;
      }

      /* Progress Bar */
      #progress-bar {
        width: 0%;
        transition: width 0.1s linear;
      }

      /* Article Typography Refined */
      .article-body p {
        font-family: "Merriweather", serif;
        font-size: 1.15rem;
        line-height: 2;
        margin-bottom: 2rem;
        color: #1f2937;
      }
      .article-body p:first-of-type::first-letter {
        float: left;
        font-size: 4.5rem;
        line-height: 0.8;
        font-weight: 700;
        margin-right: 0.75rem;
        margin-top: 0.25rem;
        font-family: "Playfair Display", serif;
        color: #111;
      }
      .article-body h2 {
        font-family: "Playfair Display", serif;
        font-size: 2rem;
        font-weight: 700;
        margin-top: 3.5rem;
        margin-bottom: 1.5rem;
        color: #111;
        letter-spacing: -0.02em;
        line-height: 1.2;
      }
      .article-body h3 {
        font-family: "Inter", sans-serif;
        font-size: 1.25rem;
        font-weight: 700;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        color: #333;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }
      .article-body blockquote {
        position: relative;
        margin: 3rem 0;
        padding: 2rem;
        background-color: #f9fafb;
        border-left: 4px solid #c90000;
      }
      .article-body blockquote p {
        font-family: "Playfair Display", serif;
        font-size: 1.5rem;
        font-style: italic;
        color: #111;
        margin-bottom: 0;
        line-height: 1.5;
      }
      .article-body a {
        color: #c90000;
        text-decoration: underline;
        text-decoration-thickness: 1px;
        text-underline-offset: 4px;
        transition: color 0.2s;
      }
      .article-body a:hover {
        background-color: #fee2e2;
        color: #991b1b;
      }

      /* Ticker Animation - Mobile Optimized Loop */
      .ticker-wrap {
        width: 100%;
        overflow: hidden;
        white-space: nowrap;
      }
      .ticker-move {
        display: inline-flex;
        animation: ticker 30s linear infinite;
      }
      .ticker-move:hover {
        animation-play-state: paused;
      }
      .ticker-content {
        display: flex;
        align-items: center;
        flex-shrink: 0;
      }

      @keyframes ticker {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
    </style>
  </head>
  <body
    class="bg-white text-gray-900 selection:bg-brand-red selection:text-white antialiased"
  >
    <!-- Reading Progress Bar -->
    <div
      class="fixed top-0 left-0 h-1 bg-brand-red z-[100]"
      id="progress-bar"
    ></div>

    <!-- Loading Overlay -->
    <div
      id="loading-overlay"
      class="fixed inset-0 z-[110] bg-white flex flex-col justify-center items-center transition-opacity duration-500"
    >
      <div class="flex flex-col items-center">
        <span
          class="font-display font-black text-5xl tracking-tighter text-brand-black animate-pulse"
          >The Daily Origin</span
        >
        <div class="h-1 w-24 bg-brand-red mt-6"></div>
        <p
          id="loading-text"
          class="mt-4 font-sans text-xs uppercase tracking-[0.2em] text-gray-400 font-bold"
        >
          Loading Content...
        </p>
      </div>
    </div>

    <!-- Top Utility Bar -->
    <div class="bg-brand-black text-white text-xs py-2 relative z-50">
      <div
        class="container mx-auto px-4 lg:px-8 flex items-center justify-between"
      >
        <!-- Ticker -->
        <div class="flex items-center overflow-hidden w-full lg:w-3/4">
          <span
            class="bg-brand-red text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-widest mr-4 flex-shrink-0"
            >Trending</span
          >
          <div class="ticker-wrap flex-1">
            <div class="ticker-move">
              <!-- Content 1 -->
              <div class="ticker-content">
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >Global Markets Rally on Tech Earnings</span
                >
                <span class="text-brand-red mx-2">///</span>
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >New Climate Accord Signed in Geneva</span
                >
                <span class="text-brand-red mx-2">///</span>
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >Senate Passes Education Reform Bill</span
                >
                <span class="text-brand-red mx-2">///</span>
              </div>
              <!-- Content 2 (Duplicate) -->
              <div class="ticker-content">
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >Global Markets Rally on Tech Earnings</span
                >
                <span class="text-brand-red mx-2">///</span>
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >New Climate Accord Signed in Geneva</span
                >
                <span class="text-brand-red mx-2">///</span>
                <span
                  class="mx-4 text-gray-400 font-sans uppercase tracking-widest cursor-pointer hover:text-white transition"
                  >Senate Passes Education Reform Bill</span
                >
                <span class="text-brand-red mx-2">///</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Auth / Actions -->
        <div
          class="hidden lg:flex items-center space-x-6 ml-6 font-sans text-[11px] font-bold uppercase tracking-widest"
        >
          <button
            id="nav-subscribe-btn"
            class="text-white hover:text-brand-red transition-colors"
          >
            Subscribe
          </button>
          <div class="h-3 w-px bg-gray-700"></div>
          <button
            id="nav-signin-btn"
            class="text-white hover:text-brand-red transition-colors flex items-center gap-2"
          >
            <i data-lucide="user" class="w-3 h-3"></i> Sign In
          </button>
          <div
            id="user-profile-display"
            class="hidden flex items-center space-x-2 cursor-pointer"
          >
            <span
              class="w-6 h-6 bg-brand-red flex items-center justify-center text-[10px]"
              >DJ</span
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Sticky Navigation Header -->
    <header
      class="sticky top-0 z-40 w-full bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm transition-all duration-300"
      id="main-header"
    >
      <div class="container mx-auto px-4 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Mobile Menu Trigger -->
          <button
            id="mobile-menu-btn"
            class="lg:hidden p-2 text-brand-black hover:bg-gray-100 transition-colors"
          >
            <i data-lucide="menu" class="w-6 h-6"></i>
          </button>

          <!-- Logo -->
          <a href="./home" class="flex flex-col items-center group">
            <h1
              class="font-display font-black text-3xl md:text-4xl lg:text-5xl text-brand-black tracking-tight leading-none group-hover:scale-[1.02] transition-transform duration-300"
            >
              The Daily Origin
            </h1>
          </a>

          <!-- Desktop Nav Links -->
          <nav class="hidden lg:flex items-center space-x-8">
            <a
              href="./category?category=World"
              class="text-xs font-bold uppercase tracking-widest hover:text-brand-red transition-colors"
              >World</a
            >
            <a
              href="./category?category=Tech"
              class="text-xs font-bold uppercase tracking-widest hover:text-brand-red transition-colors"
              >Tech</a
            >
            <a
              href="./category?category=Politics"
              class="text-xs font-bold uppercase tracking-widest hover:text-brand-red transition-colors"
              >Politics</a
            >
            <a
              href="./category?category=Business"
              class="text-xs font-bold uppercase tracking-widest hover:text-brand-red transition-colors"
              >Business</a
            >
            <a
              href="./category?category=Sports"
              class="text-xs font-bold uppercase tracking-widest hover:text-brand-red transition-colors"
              >Sports</a
            >
          </nav>

          <!-- Search Trigger -->
          <button
            id="search-open-btn"
            class="p-2 text-brand-black hover:text-brand-red transition-colors"
          >
            <i data-lucide="search" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile Menu Drawer -->
    <div
      id="mobile-menu-overlay"
      class="fixed inset-0 bg-black/60 z-40 hidden backdrop-blur-sm opacity-0 transition-opacity duration-300"
    ></div>
    <div
      id="mobile-menu"
      class="fixed top-0 left-0 h-full w-[280px] bg-white z-50 transform -translate-x-full transition-transform duration-300 shadow-2xl flex flex-col border-r-4 border-brand-red"
    >
      <div
        class="p-6 border-b border-gray-100 flex justify-between items-center bg-brand-black text-white"
      >
        <span class="font-sans font-bold text-lg uppercase tracking-wider"
          >Sections</span
        >
        <button
          id="mobile-menu-close-btn"
          class="text-white hover:text-gray-300"
        >
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      <nav class="flex-grow overflow-y-auto py-6 px-6 space-y-4">
        <a
          href="./category?category=World"
          class="block font-display text-2xl font-bold text-brand-black hover:text-brand-red transition-colors"
          >World</a
        >
        <a
          href="./category?category=Tech"
          class="block font-display text-2xl font-bold text-brand-black hover:text-brand-red transition-colors"
          >Tech</a
        >
        <a
          href="./category?category=Politics"
          class="block font-display text-2xl font-bold text-brand-black hover:text-brand-red transition-colors"
          >Politics</a
        >
        <a
          href="./category?category=Business"
          class="block font-display text-2xl font-bold text-brand-black hover:text-brand-red transition-colors"
          >Business</a
        >
        <a
          href="./category?category=Sports"
          class="block font-display text-2xl font-bold text-brand-black hover:text-brand-red transition-colors"
          >Sports</a
        >
      </nav>
    </div>

    <!-- Main Content Area -->
    <main class="container mx-auto px-4 lg:px-8 py-10 md:py-16 min-h-screen">
      <!-- Error State -->
      <div
        id="article-error"
        class="hidden text-center py-20 animate-fade-in-up"
      >
        <div class="inline-block p-4 bg-red-50 mb-4">
          <i data-lucide="alert-octagon" class="w-12 h-12 text-brand-red"></i>
        </div>
        <h2 class="font-display text-4xl font-bold mb-4 text-brand-black">
          Article Not Found
        </h2>
        <p class="font-serif text-gray-500 mb-8 max-w-md mx-auto">
          The content you are looking for may have been removed or is
          temporarily unavailable.
        </p>
        <a
          href="./home"
          class="inline-flex items-center gap-2 bg-brand-black text-white px-8 py-3 font-sans font-bold uppercase tracking-widest text-xs hover:bg-brand-red transition-colors"
        >
          Return Home <i data-lucide="arrow-right" class="w-4 h-4"></i>
        </a>
      </div>

      <!-- Article Layout -->
      <article
        id="main-article-container"
        class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 opacity-0 animate-fade-in-up"
      >
        <!-- Left Sidebar: Social (Span 1) - Desktop Only -->
        <div class="hidden lg:block lg:col-span-1">
          <div class="sticky top-32 flex flex-col gap-6 items-center">
            <button
              class="p-3 bg-white border border-gray-200 text-gray-400 hover:text-blue-600 hover:border-blue-600 hover:scale-110 hover:shadow-md transition-all group"
              title="Share on Facebook"
            >
              <i data-lucide="facebook" class="w-5 h-5"></i>
            </button>
            <button
              class="p-3 bg-white border border-gray-200 text-gray-400 hover:text-blue-400 hover:border-blue-400 hover:scale-110 hover:shadow-md transition-all group"
              title="Share on Twitter"
            >
              <i data-lucide="twitter" class="w-5 h-5"></i>
            </button>
            <button
              class="p-3 bg-white border border-gray-200 text-gray-400 hover:text-green-600 hover:border-green-600 hover:scale-110 hover:shadow-md transition-all group"
              title="Copy Link"
            >
              <i data-lucide="link" class="w-5 h-5"></i>
            </button>
            <div class="h-px w-6 bg-gray-200 my-2"></div>
            <button
              class="p-3 bg-white border border-gray-200 text-gray-400 hover:text-brand-red hover:border-brand-red hover:scale-110 hover:shadow-md transition-all group"
              title="Bookmark"
            >
              <i data-lucide="bookmark" class="w-5 h-5"></i>
            </button>
          </div>
        </div>

        <!-- Center Column: Content (Span 7) -->
        <div class="lg:col-span-7">
          <!-- Article Header -->
          <header class="mb-10 text-center lg:text-left">
            <a
              href="#"
              id="article-category-link"
              class="inline-block px-3 py-1 mb-6 bg-red-50 text-brand-red font-bold uppercase tracking-widest text-[10px] font-sans border border-red-100 hover:bg-brand-red hover:text-white transition-colors"
            >
              Loading Category...
            </a>
            <h1
              id="article-title"
              class="font-display font-black text-4xl md:text-5xl lg:text-6xl text-brand-black leading-[1.1] mb-8"
            >
              Loading Headline...
            </h1>

            <!-- Metadata Row -->
            <div
              class="flex flex-row sm:flex-row items-center justify-evenly lg:justify-start gap-6 border-y border-gray-100 py-6"
            >
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                  <img
                    src="the_daily_origin_favicon.png"
                    class="w-full h-full object-cover"
                    alt="Avatar"
                  />
                </div>
                <div class="text-left">
                  <div
                    class="font-sans font-bold text-xs uppercase tracking-widest text-brand-black"
                  >
                    By
                    <span id="article-author" class="text-brand-red"
                      >The Daily Origin Staff</span
                    >
                  </div>
                  <!-- DYNAMIC ROLE INSTEAD OF STATIC "Senior Correspondents" -->
                  <div
                    id="article-author-role"
                    class="font-serif text-xs text-gray-400 italic"
                  >
                    ...
                  </div>
                </div>
              </div>
              <div class="hidden sm:block w-px h-8 bg-gray-200"></div>
              <div class="text-left">
                <div
                  id="article-date"
                  class="font-sans font-bold text-xs uppercase tracking-widest text-brand-black"
                >
                  Loading Date...
                </div>
                <!-- DYNAMIC READ TIME INSTEAD OF STATIC "5 Min Read" -->
                <div
                  id="article-read-time"
                  class="font-serif text-xs text-gray-400 italic"
                >
                  5 Min Read
                </div>
              </div>
            </div>
          </header>

          <!-- Hero Image -->
          <figure class="mb-12 relative group overflow-hidden shadow-lg">
            <img
              id="article-image"
              src="https://placehold.co/1200x700/f3f4f6/9ca3af?text=Loading..."
              alt="Article Hero"
              class="w-full h-auto object-cover transform transition-transform duration-700 group-hover:scale-105"
            />
            <div
              class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-60"
            ></div>
            <figcaption
              id="article-image-caption"
              class="absolute bottom-4 left-4 text-white text-xs font-sans font-bold uppercase tracking-wider opacity-90"
            >
              Source: The Daily Origin
            </figcaption>
          </figure>

          <!-- Article Body -->
          <div id="article-content-body" class="article-body">
            <!-- Content injected here -->
            <div class="space-y-4 animate-pulse">
              <div class="h-4 bg-gray-100 w-full"></div>
              <div class="h-4 bg-gray-100 w-5/6"></div>
              <div class="h-4 bg-gray-100 w-full"></div>
              <div class="h-32 bg-gray-50 w-full mt-8"></div>
            </div>
          </div>

          <!-- Author Bio Box -->
          <div
            id="author-bio-box"
            class="hidden mt-16 p-8 bg-white border border-gray-100 shadow-sm flex flex-col sm:flex-row items-center sm:items-start gap-6 relative overflow-hidden group hover:border-brand-red transition-colors"
          >
            <div
              class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
            >
              <i data-lucide="feather" class="w-24 h-24"></i>
            </div>
            <img
              id="author-bio-image"
              src=""
              class="w-20 h-20 object-cover ring-4 ring-gray-50 relative z-10"
              alt="Author"
            />
            <div class="text-center sm:text-left relative z-10">
              <span
                class="block text-[10px] font-sans font-bold uppercase tracking-widest text-brand-red mb-2"
                >About The Author</span
              >
              <h3
                id="author-bio-name"
                class="font-display font-bold text-xl text-brand-black mb-2"
              >
                Author Name
              </h3>
              <p
                id="author-bio-text"
                class="font-serif text-sm text-gray-600 leading-relaxed"
              >
                Author bio content goes here.
              </p>
            </div>
          </div>
        </div>

        <!-- Right Column: Sidebar (Span 4) -->
        <aside class="lg:col-span-4 space-y-12 pl-0 lg:pl-6">
          <!-- Newsletter Widget (NO STICKY) -->
          <div
            class="bg-brand-black text-white p-8 relative overflow-hidden shadow-2xl group"
          >
            <div
              class="absolute inset-0 bg-brand-red opacity-0 group-hover:opacity-10 transition-opacity duration-500"
            ></div>
            <div class="relative z-10">
              <span
                class="inline-block px-3 py-1 bg-brand-red text-[10px] font-bold uppercase tracking-widest mb-4"
                >Newsletter</span
              >
              <h3 class="font-display text-2xl font-bold mb-3">
                The Daily Origin
              </h3>
              <p class="font-sans text-gray-400 text-sm mb-6 leading-relaxed">
                Essential insight delivered to your inbox every morning. No
                spam, ever.
              </p>
              <div class="space-y-3">
                <input
                  type="email"
                  placeholder="Your email address"
                  class="w-full bg-gray-900 border border-gray-800 px-4 py-3 text-white focus:border-brand-red focus:outline-none transition-colors text-sm"
                />
                <button
                  class="w-full bg-brand-red text-white font-sans font-bold uppercase text-xs tracking-widest py-3 hover:bg-red-700 transition-colors shadow-lg"
                >
                  Subscribe
                </button>
              </div>
            </div>
          </div>

          <!-- Related Stories -->
          <section>
            <div
              class="flex items-center gap-3 mb-6 border-b border-gray-200 pb-3"
            >
              <div class="w-1 h-5 bg-brand-red"></div>
              <h2
                class="font-sans font-bold text-sm text-brand-black uppercase tracking-widest"
              >
                Related Stories
              </h2>
            </div>
            <div id="related-articles-list" class="space-y-6">
              <div class="animate-pulse space-y-4">
                <div class="h-20 bg-gray-50"></div>
                <div class="h-20 bg-gray-50"></div>
              </div>
            </div>
          </section>

          <!-- Sticky Ad Placeholder (Only this is sticky) -->
          <div class="sticky top-32">
            <div
              class="bg-gray-50 h-[300px] flex flex-col items-center justify-center text-gray-400 text-[10px] border border-gray-100 relative overflow-hidden group"
            >
              <span
                class="uppercase tracking-[0.2em] font-sans font-bold relative z-10"
                >Advertisement</span
              >
              <div
                class="absolute inset-0 bg-gradient-to-tr from-transparent via-white/50 to-transparent transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000"
              ></div>
            </div>
          </div>
        </aside>
      </article>
    </main>

    <!-- Footer -->
    <footer class="bg-brand-black text-white border-t-[6px] border-brand-red">
      <div class="container mx-auto px-4 lg:px-8 py-20">
        <div
          class="flex flex-col md:flex-row justify-between items-start mb-16"
        >
          <div class="mb-10 md:mb-0">
            <h2 class="font-display font-black text-5xl mb-6 tracking-tight">
              The Daily Origin
            </h2>
            <div
              class="flex space-x-8 text-xs font-sans font-bold uppercase tracking-widest text-gray-500"
            >
              <a href="#" class="hover:text-white transition-colors">About</a>
              <a href="#" class="hover:text-white transition-colors">Contact</a>
              <a href="#" class="hover:text-white transition-colors">Careers</a>
              <a href="#" class="hover:text-white transition-colors">Privacy</a>
            </div>
          </div>
          <div class="flex space-x-4">
            <a
              href="#"
              class="w-10 h-10 border border-gray-800 flex items-center justify-center hover:bg-brand-red hover:border-brand-red transition-all group"
            >
              <i
                data-lucide="twitter"
                class="w-4 h-4 group-hover:scale-110 transition-transform"
              ></i>
            </a>
            <a
              href="#"
              class="w-10 h-10 border border-gray-800 flex items-center justify-center hover:bg-brand-red hover:border-brand-red transition-all group"
            >
              <i
                data-lucide="facebook"
                class="w-4 h-4 group-hover:scale-110 transition-transform"
              ></i>
            </a>
            <a
              href="#"
              class="w-10 h-10 border border-gray-800 flex items-center justify-center hover:bg-brand-red hover:border-brand-red transition-all group"
            >
              <i
                data-lucide="linkedin"
                class="w-4 h-4 group-hover:scale-110 transition-transform"
              ></i>
            </a>
          </div>
        </div>
        <div
          class="border-t border-gray-900 pt-8 text-center md:text-left flex flex-col md:flex-row justify-between items-center"
        >
          <p
            class="font-sans text-[10px] uppercase tracking-widest text-gray-600 mb-4 md:mb-0"
          >
            Â© 2025 The Daily Origin. All rights reserved.
          </p>
          <p class="font-serif italic text-gray-700 text-xs">
            Unbiased. Unfiltered. Uncompromising.
          </p>
        </div>
      </div>
    </footer>

    <!-- Search Modal -->
    <div
      id="search-overlay"
      class="fixed inset-0 bg-white/95 z-[70] hidden transition-opacity duration-300 backdrop-blur-sm"
    ></div>
    <div id="search-modal" class="fixed top-0 left-0 z-[80] w-full hidden">
      <div class="container mx-auto px-4 py-8">
        <div class="relative max-w-4xl mx-auto">
          <input
            type="text"
            id="search-input"
            placeholder="SEARCH STORIES..."
            class="w-full text-4xl md:text-6xl font-display font-black text-brand-black placeholder-gray-200 border-b-4 border-brand-black pb-4 focus:outline-none focus:border-brand-red bg-transparent uppercase tracking-tight transition-colors"
          />
          <button
            id="search-close-btn"
            class="absolute right-0 top-0 p-2 hover:bg-gray-100 transition-colors"
          >
            <i data-lucide="x" class="w-8 h-8 text-gray-400"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Sign In Modal -->
    <div
      id="signin-overlay"
      class="fixed inset-0 bg-brand-black/80 backdrop-blur-sm z-[90] hidden transition-opacity duration-300"
    ></div>
    <div
      id="signin-modal"
      class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100] w-full max-w-md hidden px-4"
    >
      <div
        class="bg-white p-8 md:p-12 shadow-2xl relative border-t-8 border-brand-red"
      >
        <button
          id="signin-close-btn"
          class="absolute top-4 right-4 text-gray-400 hover:text-brand-black transition-colors"
        >
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
        <div class="text-center mb-8">
          <div
            class="w-16 h-16 bg-red-50 flex items-center justify-center mx-auto mb-4 text-brand-red"
          >
            <i data-lucide="user" class="w-8 h-8"></i>
          </div>
          <h2 class="font-display font-black text-3xl mb-2 text-brand-black">
            Welcome Back
          </h2>
          <p class="font-serif text-gray-500 italic">
            Sign in to access your personalized feed.
          </p>
        </div>
        <button
          class="w-full bg-brand-black text-white font-sans font-bold uppercase tracking-[0.2em] py-4 hover:bg-brand-red transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
        >
          Sign In
        </button>
      </div>
    </div>

    <!-- Logic (Preserved) -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
      import {
        getFirestore,
        doc,
        getDoc,
        collection,
        query,
        where,
        limit,
        onSnapshot,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
      import {
        getAuth,
        signInAnonymously,
        signInWithCustomToken,
        onAuthStateChanged,
      } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

      // --- Config ---
      const firebaseConfig = {
        apiKey: "AIzaSyCFVD4Ts03OXJ14aJ5h_HGAAuiIg5nme7A",
        authDomain: "edu-env.firebaseapp.com",
        projectId: "edu-env",
        storageBucket: "edu-env.firebasestorage.app",
        messagingSenderId: "259668089849",
        appId: "1:259668089849:web:70a92e04ce3331ed533b28",
        measurementId: "G-VK9WTY47JB",
      };

      const appId =
        typeof __app_id !== "undefined" ? __app_id : "default-news-app";
      const initialAuthToken =
        typeof __initial_auth_token !== "undefined"
          ? __initial_auth_token
          : null;

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);

      let currentArticleId = null;

      // --- Refs ---
      const loadingOverlay = document.getElementById("loading-overlay");
      const loadingText = document.getElementById("loading-text");
      const articleError = document.getElementById("article-error");
      const mainArticleContainer = document.getElementById(
        "main-article-container"
      );

      const articleCategoryLink = document.getElementById(
        "article-category-link"
      );
      const articleTitle = document.getElementById("article-title");
      const articleDate = document.getElementById("article-date");
      const articleAuthor = document.getElementById("article-author");
      const articleAuthorRole = document.getElementById("article-author-role");
      const articleReadTime = document.getElementById("article-read-time");
      const articleImage = document.getElementById("article-image");
      const articleImageCaption = document.getElementById(
        "article-image-caption"
      );
      const articleContentBody = document.getElementById(
        "article-content-body"
      );

      const authorBioBox = document.getElementById("author-bio-box");
      const authorBioImage = document.getElementById("author-bio-image");
      const authorBioName = document.getElementById("author-bio-name");
      const authorBioText = document.getElementById("author-bio-text");

      const relatedArticlesList = document.getElementById(
        "related-articles-list"
      );

      // SEO Refs
      const metaDescription = document.getElementById("meta-description");
      const canonicalLink = document.getElementById("canonical-link");
      const dynamicSchema = document.getElementById("dynamic-schema-json");

      // --- UI Functions ---
      // Mobile Menu
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileMenuOverlay = document.getElementById("mobile-menu-overlay");
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenuCloseBtn = document.getElementById(
        "mobile-menu-close-btn"
      );

      function toggleMenu(show) {
        if (show) {
          mobileMenu.classList.remove("-translate-x-full");
          mobileMenuOverlay.classList.remove("hidden");
          setTimeout(() => mobileMenuOverlay.classList.remove("opacity-0"), 10);
          document.body.style.overflow = "hidden";
        } else {
          mobileMenu.classList.add("-translate-x-full");
          mobileMenuOverlay.classList.add("opacity-0");
          setTimeout(() => mobileMenuOverlay.classList.add("hidden"), 300);
          document.body.style.overflow = "";
        }
      }
      mobileMenuBtn.addEventListener("click", () => toggleMenu(true));
      mobileMenuCloseBtn.addEventListener("click", () => toggleMenu(false));
      mobileMenuOverlay.addEventListener("click", () => toggleMenu(false));

      // Search
      const searchOverlay = document.getElementById("search-overlay");
      const searchModal = document.getElementById("search-modal");
      const searchOpenBtn = document.getElementById("search-open-btn");
      const searchCloseBtn = document.getElementById("search-close-btn");

      function toggleSearch(show) {
        if (show) {
          searchOverlay.classList.remove("hidden");
          searchModal.classList.remove("hidden");
          setTimeout(() => searchOverlay.classList.remove("opacity-0"), 10);
        } else {
          searchOverlay.classList.add("opacity-0");
          setTimeout(() => {
            searchOverlay.classList.add("hidden");
            searchModal.classList.add("hidden");
          }, 300);
        }
      }
      searchOpenBtn.addEventListener("click", () => toggleSearch(true));
      searchCloseBtn.addEventListener("click", () => toggleSearch(false));

      // Auth
      const signinOverlay = document.getElementById("signin-overlay");
      const signinModal = document.getElementById("signin-modal");
      const navSigninBtn = document.getElementById("nav-signin-btn");
      const signinCloseBtn = document.getElementById("signin-close-btn");

      navSigninBtn.addEventListener("click", () => {
        signinOverlay.classList.remove("hidden");
        signinModal.classList.remove("hidden");
        setTimeout(() => {
          signinOverlay.classList.remove("opacity-0");
          signinModal.classList.add("opacity-100");
        }, 10);
      });
      function closeSignin() {
        signinOverlay.classList.add("opacity-0");
        setTimeout(() => {
          signinOverlay.classList.add("hidden");
          signinModal.classList.add("hidden");
        }, 300);
      }
      signinCloseBtn.addEventListener("click", closeSignin);
      signinOverlay.addEventListener("click", closeSignin);

      // --- Helper: Format Time ---

      const englishMonthsShort = [
        "JAN",
        "FEB",
        "MAR",
        "APR",
        "MAY",
        "JUN",
        "JUL",
        "AUG",
        "SEP",
        "OCT",
        "NOV",
        "DEC",
      ];

      function formatRelativeTime(date) {
        if (date?.toDate) date = date.toDate();
        const now = new Date();
        const seconds = Math.floor((now - date) / 1000);

        if (seconds < 60) return "Just Now";

        // Custom short format "12 NOV, 2024"
        const day = date.getDate();
        const month = englishMonthsShort[date.getMonth()];
        const year = date.getFullYear();

        return `${day} ${month}, ${year}`;
      }

      function calculateReadingTime(text) {
        if (!text) return 1;
        // Strip HTML tags and split by whitespace
        const words = text.replace(/<[^>]*>/g, "").split(/\s+/).length;
        const minutes = Math.ceil(words / 200);
        return minutes;
      }

      function deriveAuthorRole(name, bio) {
        const specialNames = [
          "Shadik Hossain",
          "Shadik Hossain Shakib",
          "Shadik Hosein",
        ];
        if (name && specialNames.includes(name)) {
          return "Editor & Founder";
        }

        if (!bio) return "Staff Writer";
        const keywords = [
          "Editor",
          "Reporter",
          "Journalist",
          "Analyst",
          "Columnist",
          "Contributor",
        ];
        for (const word of keywords) {
          if (bio.includes(word)) return word; // Returns first match found in bio
        }
        return "Staff Writer"; // Default
      }

      function generateArticleBody(summary) {
        return `
            <p class="font-serif text-2xl text-brand-black leading-relaxed mb-8 font-medium">${summary}</p>
            <p>This is a developing story. The Daily Origin is actively gathering more information and will provide updates as they become available. The situation remains fluid, and officials are urging the public to rely on verified sources.</p>
            <h2>The Core of the Issue</h2>
            <p>At the heart of this development lies a complex web of factors that have been culminating for months. Sources close to the matter indicate that the primary catalyst was a decision made in the early hours of Tuesday morning, a decision that has sent ripples across the industry.</p>
            <blockquote>"We are witnessing a paradigm shift, the likes of which haven't been seen since the dawn of the internet age. The implications are simply staggering."</blockquote>
            <p>Analysts suggest that this move could redefine market expectations for the coming decade.</p>
            <h3>What Happens Next?</h3>
            <p>All eyes are now on the upcoming emergency meeting scheduled for this Friday. The outcome of this meeting will likely set the course for the next quarter and could have ramifications that extend far beyond the immediate stakeholders.</p>
            <p><strong>The Daily Origin</strong> will have live coverage of the event as it unfolds.</p>
        `;
      }

      // --- Rendering Logic ---
      function renderArticle(article) {
        document.title = `${article.title} | The Daily Origin`;

        articleCategoryLink.innerText = article.category || "General";
        articleCategoryLink.href = `./category?category=${article.category}`;
        articleTitle.innerText = article.title;
        articleDate.innerText = formatRelativeTime(article.publishedAt);
        articleAuthor.innerText =
          article.authorName || "The Daily Origin Staff";

        articleImage.src =
          article.imageUrl ||
          "https://source.unsplash.com/random/1200x800?news";
        articleImageCaption.innerText = `Photo Illustration: ${article.title}`;

        // Body Content handling + Reading Time
        let bodyContent = article.body;
        if (!bodyContent) {
          bodyContent = generateArticleBody(article.summary);
        }
        articleContentBody.innerHTML = bodyContent;

        // Calculate Reading Time dynamically
        const minutes = calculateReadingTime(bodyContent);
        articleReadTime.innerText = `${minutes} Min Read`;

        loadingOverlay.classList.add("hidden");
      }

      function renderRelatedArticles(articles) {
        if (articles.length === 0) {
          relatedArticlesList.innerHTML =
            '<p class="text-gray-400 text-sm italic">No related stories found.</p>';
          return;
        }

        relatedArticlesList.innerHTML = articles
          .map(
            (a) => `
             <a href="./article?id=${
               a.id
             }" class="flex gap-4 group cursor-pointer p-2 hover:bg-gray-50 transition-colors">
                <div class="w-20 h-20 overflow-hidden flex-shrink-0 bg-gray-200">
                    <img src="${
                      a.imageUrl || "https://placehold.co/100"
                    }" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500" alt="${
              a.title
            }">
                </div>
                <div>
                    <span class="text-[10px] font-bold text-brand-red uppercase tracking-wider mb-1 block font-sans">${
                      a.category
                    }</span>
                    <h4 class="font-display font-bold text-base text-brand-black leading-snug group-hover:text-brand-red transition-colors line-clamp-2">
                       ${a.title}
                    </h4>
                </div>
             </a>
          `
          )
          .join("");
      }

      // --- Author & SEO ---
      async function loadAuthorInfo(authorId) {
        if (!authorId) return null;
        try {
          const docRef = doc(
            db,
            `artifacts/${appId}/public/data/authors`,
            authorId
          );
          const snap = await getDoc(docRef);
          if (snap.exists()) {
            const data = snap.data();
            authorBioBox.classList.remove("hidden");
            authorBioName.innerText = data.name;
            authorBioText.innerText = data.bio;
            if (data.imageUrl) authorBioImage.src = data.imageUrl;

            // Derive Role/Title Dynamically
            articleAuthorRole.innerText = deriveAuthorRole(data.name, data.bio);

            return data;
          }
        } catch (e) {
          console.error("Author load error", e);
        }
        return null;
      }

      function updateSeoTags(article, author) {
        const url = window.location.href;
        const desc = article.summary || "Latest news from The Daily Origin";
        const img = article.imageUrl || "";

        metaDescription.content = desc;
        canonicalLink.href = url;

        // OG
        document.getElementById("og-url").content = url;
        document.getElementById("og-title").content = article.title;
        document.getElementById("og-description").content = desc;
        document.getElementById("og-image").content = img;

        // Schema
        const schema = {
          "@context": "https://schema.org",
          "@type": "NewsArticle",
          headline: article.title,
          image: [img],
          datePublished: article.publishedAt?.toDate().toISOString(),
          author: {
            "@type": "Person",
            name: author ? author.name : article.authorName || "Staff",
          },
        };
        dynamicSchema.textContent = JSON.stringify(schema);
      }

      // --- Init ---
      async function init() {
        const params = new URLSearchParams(window.location.search);
        currentArticleId = params.get("id");

        if (!currentArticleId) {
          loadingOverlay.classList.add("hidden");
          mainArticleContainer.classList.add("hidden");
          articleError.classList.remove("hidden");
          return;
        }

        try {
          if (initialAuthToken) {
            await signInWithCustomToken(auth, initialAuthToken);
          } else {
            await auth.authStateReady();
            if (!auth.currentUser) {
              try {
                await signInAnonymously(auth);
              } catch (authErr) {
                console.warn(
                  "Auth failed, public access might be restricted.",
                  authErr
                );
              }
            }
          }

          const docRef = doc(
            db,
            `artifacts/${appId}/public/data/articles`,
            currentArticleId
          );
          const snap = await getDoc(docRef);

          if (snap.exists()) {
            const article = { id: snap.id, ...snap.data() };
            // First render to show skeleton/content
            renderArticle(article);

            try {
              const q = query(
                collection(db, `artifacts/${appId}/public/data/articles`),
                where("category", "==", article.category),
                limit(4)
              );
              const qs = await getDocs(q);
              const related = [];
              qs.forEach((d) => {
                if (d.id !== article.id)
                  related.push({ id: d.id, ...d.data() });
              });
              renderRelatedArticles(related);
            } catch (err) {
              console.warn("Could not fetch related articles", err);
            }

            // Load author info which will update the Role dynamically
            const author = await loadAuthorInfo(article.authorId);
            updateSeoTags(article, author);
          } else {
            loadingOverlay.classList.add("hidden");
            mainArticleContainer.classList.add("hidden");
            articleError.classList.remove("hidden");
          }
        } catch (e) {
          console.error("Init Error", e);
          loadingOverlay.classList.add("hidden");
          mainArticleContainer.classList.add("hidden");
          articleError.classList.remove("hidden");
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        lucide.createIcons();
        init();

        // Progress Bar Logic
        window.addEventListener("scroll", () => {
          const winScroll =
            document.body.scrollTop || document.documentElement.scrollTop;
          const height =
            document.documentElement.scrollHeight -
            document.documentElement.clientHeight;
          const scrolled = (winScroll / height) * 100;
          document.getElementById("progress-bar").style.width = scrolled + "%";
        });
      });
    </script>
  </body>
</html>
